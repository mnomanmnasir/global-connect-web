window.mockupData = [{
    "category": "IT Manager",
    "jobs": [
        {
            "title": "IT Manager",
            "tags": ["Fulltime", "Karachi"],
            "shortDescription": "The IT Manager is a senior leadership role responsible for managing IT infrastructure, cybersecurity, service delivery, and digital transformation, while also playing a key role in business development. The position requires a balance of technical expertise, strategic leadership, and client-facing skills to support organizational growth, lead technical presentations, and build strong partnerships with clients and vendors.",
            "description": "The IT Manager is a senior leadership role responsible for managing IT infrastructure, cybersecurity, service delivery, and digital transformation, while also playing a key role in business development. The position requires a balance of technical expertise, strategic leadership, and client-facing skills to support organizational growth, lead technical presentations, and build strong partnerships with clients and vendors.",
            "qualifications": [
                "Bachelor’s/Master’s in Information Technology, Computer Science, or related field.",
                "10+ years of IT experience with at least 5 years in a managerial role.",
                "Strong technical expertise in IT infrastructure, cloud, cybersecurity, and enterprise applications.",
                "Proven experience in client-facing roles, pre-sales support, and solution presentations.",
                "Excellent communication, presentation, and proposal-writing skills.",
                "Leadership experience in managing cross-functional IT teams and projects.",
                "Certifications preferred: ITIL Expert, ISO 27001 Lead Implementer, PMP/Prince2, CISSP/CISM, AWS/Azure Architect, CCNP/CCIE."
            ],
            "benefits": [
                {
                     "title": "Strategic Leadership & Governance",
                    "description": "Develop and execute IT strategy in line with business goals."
                },

                "Develop and execute IT strategy in line with business goals.",
                "Establish IT governance and compliance frameworks (ITIL, ISO 27001, COBIT).",
                "Manage IT audits, risk assessments, and regulatory compliance.",
                "Partner with leadership to identify new business opportunities where IT solutions can drive growth.",
            ],

            "benefits2": [
                {
                    "title": "Business Development & Client Engagement",
                    "description": "Description"
                },
                "Participate in client meetings, RFPs, and technical presentations to support the sales and business development team.",
                "Prepare solution proposals, architecture diagrams, and business cases to showcase IT capabilities.",
                "Act as a technology advisor to clients, providing consultancy on infrastructure, cloud, cybersecurity, and digital transformation.",
                "Represent the company in conferences, vendor meetings, and industry events to build relationships and explore new business leads.",
            ],

            "benefits3": [
                {
                   "title": "Infrastructure & Operations Management",
                    "description": "Description"
                },
                "Oversee enterprise IT infrastructure (servers, data centers, cloud, and networks).",
                "Ensure high availability, performance, and scalability of IT systems.",
                "Manage IT projects including ERP/CRM rollouts, cloud migrations, and security upgrades.",
                "Ensure proper IT asset management, vendor negotiations, and cost optimization.",
            ],

            "benefits4": [
                {
                    "title": "Cybersecurity & Compliance",
                    "description": "Description"
                },
                "Define and enforce cybersecurity policies, threat monitoring, and incident response.",
                "Implement data protection, disaster recovery, and business continuity plans.",
                "Ensure compliance with ISO 27001, ITIL best practices, and local regulatory standards.",
            ],

            "benefits5": [
                {
                    "title": "Service Delivery & ITIL Management",
                    "description": "Description"
                },
                "Implement ITIL-based service management processes (Incident, Change, Problem, Asset Management).",
                "Drive SLA compliance and ensure client satisfaction for managed services.",
                "Lead IT support teams, ensuring efficient and timely resolution of technical issues.",
            ],

            "benefits6": [
                {
                    "title": "Innovation & Transformation",
                    "description": "Description"
                },
                "Drive adoption of emerging technologies (AI for IT Operations, RPA, IoT, Data Analytics).",
                "Lead digital transformation projects to modernize client and in-house systems.",
                "Evaluate and integrate cloud-first strategies (AWS, Azure, GCP).",
                "Align IT innovation with business growth objectives.",
            ],

            "reportTingTo": [
                "General Manager IT",
            ],

            // "experience": [
            //     "5+ years (Only IT, Security & Surveillance Industry)"
            // ],
            // "applicationInstructions": [
            //     "Send updated CV at tayyaba.azmat@Global Connect Synergypvt.com"
            // ],
            // "benefits": [
            //     "Health & Life Insurance (Employee, Spouse & Kids), Leaves, Sales Commission"
            // ]
        },

    ]
},

{
    "category": "Manager Networks",
    "jobs": [
        {
            "title": "Manager Networks",
            "tags": ["Fulltime", "Karachi"],
            "shortDescription": "The Manager Networks is responsible for planning, implementing, maintaining, and optimizing the organization's network infrastructure. This role oversees network operations, ensures high availability and performance, manages network security, and leads a team of network engineers and technicians. The Manager Networks will work closely with IT leadership to align network strategies with business goals.",
            "description": "The Manager Networks is responsible for planning, implementing, maintaining, and optimizing the organization's network infrastructure. This role oversees network operations, ensures high availability and performance, manages network security, and leads a team of network engineers and technicians. The Manager Networks will work closely with IT leadership to align network strategies with business goals.",
            "qualifications": [

                {
                    "title": "Qualifications",
                    "description": "Description"
                },
                "Bachelor’s degree in Computer Science, Information Technology, or related field (Master’s preferred).",
                "Relevant certifications such as CCNP/CCIE, JNCIP/JNCIE, Fortinet NSE, or equivalent.",
            ],

            "experience": [
                {
                    "title": "Experience",
                    "description": "Description",
                },
                "7+ years of experience in network engineering, with at least 3 years in a managerial role.",
                "Proven experience with Cisco, Fortinet, Mikrotik, Juniper, or similar platforms.",
            ],
            "technicalSkills": [
                {
                    "title": "Technical Skills",
                    "description": "Description"
                },
                "Strong technical expertise in IT infrastructure, cloud, cybersecurity, and enterprise applications.",
                "Experience in network monitoring tools (e.g., PRTG, SolarWinds, Zabbix).",
                "Hands-on experience with network security technologies.",
            ],
            "softSkills": [
                {
                    "title": "Soft Skills",
                    "description": "Description"
                },
                "Strong leadership, communication, and problem-solving skills.",
                "Ability to work under pressure and manage multiple projects simultaneously.",
                "Strategic thinking with attention to detail.",
            ],

            "workEnvironment": [
                {
                    "title": "Work Environment",
                    "description": "Description"
                },
                "Office-based with occasional travel to data centers or branch locations.",
                "On-call availability for critical network issues.",
            ],


            "benefits": [
                {
                    "title": "Network Planning & Design",
                    "description": "Description"
                },

                "Design, implement, and manage LAN, WAN, WLAN, and VPN infrastructure.",
                "Develop network architecture diagrams, capacity planning, and upgrade roadmaps.",
                "Evaluate and recommend new networking technologies to enhance performance and security.",
            ],

            "benefits2": [
                {
                    "title": "Network Operations",
                    "description": "Description"
                },
                "Oversee daily network operations to ensure high availability and optimal performance.",
                "Monitor and troubleshoot network issues using appropriate tools.",
                "Manage network configuration, patching, and upgrades.",
            ],

            "benefits3": [
                {
                    "title": "Security & Compliance",
                    "description": "Description"
                },
                "Implement and manage firewalls, IDS/IPS, and other security measures.",
                "Ensure compliance with industry standards, policies, and regulatory requirements.",
                "Conduct regular security audits and vulnerability assessments.",
            ],

            "benefits4": [
                {
                    "title": "Team Management & Leadership",
                    "description": "Description"
                },
                "Lead a team of network engineers and technicians.",
                "Allocate resources, set priorities, and manage workloads effectively.",
                "Provide training to team members on emerging technologies and best practices.",
            ],

            "benefits5": [
                {
                    "title": "Vendor & Budget Management",
                    "description": "Description"
                },
                "Manage relationships with ISPs, hardware vendors, and service providers.",
                "Negotiate contracts and ensure SLA compliance.",
                "Prepare and manage network budget, procurement, and cost optimization.",
            ],

            "reportTingTo": [
                "General Manager IT",
            ],


            "applicationInstructions": [
                // "Send updated CV at tayyaba.azmat@Global Connect Synergypvt.com"
            ],
            // "benefits": [
            //     "Health & Life Insurance (Employee, Spouse & Kids), Leaves, Sales Commission"
            // ]
        }
    ]
},
];




let allJobsData = [];

document.addEventListener('DOMContentLoaded', function () {
    // Make sure mockupData is available
    if (window.mockupData) {
        allJobsData = window.mockupData;
        renderJobs(allJobsData);
    } else {
        console.error("mockupData not found in mockup.js");
    }

    // Add event listeners for search and filters
    const searchBtn = document.getElementById('searchBtn');
    const searchInput = document.getElementById('searchInput');
    const jobTypeFilter = document.getElementById('jobTypeFilter');
    const locationFilter = document.querySelector('select:not(#jobTypeFilter)');

    if (searchBtn) {
        searchBtn.addEventListener('click', filterJobs);
    }

    if (searchInput) {
        searchInput.addEventListener('keyup', function (event) {
            if (event.key === 'Enter') {
                filterJobs();
            }
        });
    }

    if (jobTypeFilter) {
        jobTypeFilter.addEventListener('change', filterJobs);
    }

    if (locationFilter) {
        locationFilter.addEventListener('change', filterJobs);
    }
});

function renderJobs(data) {
    const container = document.getElementById('jobContainer');
    if (!container) return;

    container.innerHTML = '';

    if (!data || data.length === 0) {
        container.innerHTML = '<div style="text-align: center; padding: 40px;">No job openings match your search criteria.</div>';
        return;
    }

    data.forEach(section => {
        if (section.jobs && section.jobs.length > 0) {
            let sectionHTML = `
            <div class="section">
                <div class="career-title">${section.category}</div>
        `;

            section.jobs.forEach(job => {
                // Use shortDescription if available, otherwise truncate the description
                const shortDesc = job.shortDescription ||
                    (job.description.length > 150 ?
                        job.description.substring(0, 150) + '...' :
                        job.description);

                // Create a data object to pass to the details page
                const jobData = {
                    title: job.title,
                    description: job.description || job.shortDescription,
                    tags: job.tags || []
                };

                sectionHTML += `
                <div class="job-card">
                    <h3>${job.title}</h3>
                    <div class="tags">
                        ${job.tags.map(tag => {
                    // Only show first 3 tags to keep it clean
                    const parts = tag.split(':');
                    const displayTag = parts.length > 1 ? parts[1].trim() : tag;
                    return `<span class="tag">${displayTag}</span>`;
                }).slice(0, 3).join('')}
                    </div>
                    <p class="job-short-desc">${shortDesc}</p>
                    <div class="">
                        <a href="job-detail.html?jobTitle=${encodeURIComponent(job.title)}&jobId=${encodeURIComponent(job.title.toLowerCase().replace(/\s+/g, '-'))}" class="btn-apply">Apply Now</a>
                        <a href="job-detail.html?jobTitle=${encodeURIComponent(job.title)}&jobId=${encodeURIComponent(job.title.toLowerCase().replace(/\s+/g, '-'))}" class="btn-view">View Details</a>
                    </div>
                </div>
            `;
            });

            sectionHTML += `</div>`;
            container.innerHTML += sectionHTML;
        }
    });

    if (container.innerHTML === '') {
        container.innerHTML = '<div style="text-align: center; padding: 40px;">No job openings match your search criteria.</div>';
    }
}

function filterJobs() {
    const searchTerm = document.getElementById('searchInput').value.toLowerCase();
    const jobType = document.getElementById('jobTypeFilter').value;
    const locationFilter = document.querySelector('select:not(#jobTypeFilter)');
    const location = locationFilter ? locationFilter.value : '';

    const filteredData = allJobsData.map(section => {
        const filteredJobs = section.jobs.filter(job => {
            const matchesSearch =
                job.title.toLowerCase().includes(searchTerm) ||
                job.description.toLowerCase().includes(searchTerm);

            const matchesJobType = jobType === "Job Type" || !jobType || job.tags.includes(jobType);

            const matchesLocation = location === "Location" || !location || job.tags.includes(location);

            return matchesSearch && matchesJobType && matchesLocation;
        });

        return {
            ...section,
            jobs: filteredJobs
        };
    });

    renderJobs(filteredData);
}